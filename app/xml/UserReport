<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <!-- Parameter for selected status -->
    <xsl:param name="selectedStatus" select="'Both'"/>

    <!-- Template for the root element -->
    <xsl:template match="/">
        <html>
            <head>
                <title>User Management Report</title>
                <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
                <style>
                    .report-container {
                    margin-top: 20px;
                    }
                    .back-button {
                    margin-bottom: 20px;
                    }
                </style>
            </head>
            <body>
                <div class="container">
                    <br></br>
                    <br></br>
                    <!-- Back to Selection Button -->
                    <div class="row">
                        <div class="col-12 back-button">
                            <a href="userReport" class="btn btn-primary">Back to Report Selection</a>
                        </div>
                    </div>

                    <!-- Display the Report -->
                    <div class="row report-container">
                        <div class="col-12">
                            <h2>User Management Report</h2>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>UserID</th>
                                        <th>UserName</th>
                                        <th>PhoneNo</th>
                                        <th>Email</th>
                                        <th>Gender</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <xsl:for-each select="UsersReport/User">
                                        <xsl:if test="$selectedStatus = 'Both' or Status = $selectedStatus">
                                            <tr>
                                                <td><xsl:value-of select="UserID"/></td>
                                                <td><xsl:value-of select="UserName"/></td>
                                                <td><xsl:value-of select="PhoneNo"/></td>
                                                <td><xsl:value-of select="Email"/></td>
                                                <td><xsl:value-of select="Gender"/></td>
                                                <td><xsl:value-of select="Status"/></td>
                                            </tr>
                                        </xsl:if>
                                    </xsl:for-each>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
            </body>
        </html>
    </xsl:template>
</xsl:stylesheet>